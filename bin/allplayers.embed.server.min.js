"object"!==typeof JSON&&(JSON={});
(function(){function d(a){return 10>a?"0"+a:a}function c(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=h[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(b,d){var e,h,m,p,q=f,l,g=d[b];g&&"object"===typeof g&&"function"===typeof g.toJSON&&(g=g.toJSON(b));"function"===typeof n&&(g=n.call(d,b,g));switch(typeof g){case "string":return c(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";f+=k;l=[];if("[object Array]"===Object.prototype.toString.apply(g)){p=g.length;for(e=0;e<p;e+=1)l[e]=a(e,g)||"null";m=0===l.length?"[]":f?"[\n"+f+l.join(",\n"+f)+"\n"+q+"]":"["+l.join(",")+"]";f=q;return m}if(n&&"object"===typeof n)for(p=n.length,e=0;e<p;e+=1)"string"===typeof n[e]&&(h=n[e],(m=a(h,g))&&l.push(c(h)+(f?": ":":")+m));else for(h in g)Object.prototype.hasOwnProperty.call(g,h)&&(m=a(h,g))&&l.push(c(h)+(f?": ":":")+m);m=0===l.length?"{}":f?"{\n"+f+l.join(",\n"+
f)+"\n"+q+"}":"{"+l.join(",")+"}";f=q;return m}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,e,c){var d;k=f="";if("number"===typeof c)for(d=0;d<c;d+=1)k+=" ";else"string"===typeof c&&(k=c);if((n=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return a("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,b){var f,d,h=a[b];if(h&&"object"===typeof h)for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&(d=c(h,f),void 0!==d?h[f]=d:delete h[f]);return e.call(a,b,h)}var f;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof e?c({"":f},""):f;throw new SyntaxError("JSON.parse");})})();
(function(){var d=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(a){function b(){!d&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;d=!0;var f=new this;d=!1;for(var k in a)f[k]="function"==typeof a[k]&&"function"==typeof e[k]&&c.test(a[k])?function(a,b){return function(){var f=this._super;this._super=e[a];var c=b.apply(this,arguments);this._super=f;return c}}(k,a[k]):a[k];b.prototype=f;b.prototype.constructor=b;b.extend=arguments.callee;
return b}})();
(function(d){var c={trace:function(a){void 0!==d.console&&d.console.log("Porthole: "+a)},error:function(a){void 0!==d.console&&d.console.error("Porthole: "+a)},WindowProxy:function(){}};c.WindowProxy.prototype={post:function(a,b){},addEventListener:function(a){},removeEventListener:function(a){}};c.WindowProxyBase=Class.extend({init:function(a){void 0===a&&(a="");this.targetWindowName=a;this.origin=d.location.protocol+"//"+d.location.host;this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},
getTargetWindow:function(){return c.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(a,b){void 0===b&&(b="*");this.dispatchMessage({data:a,sourceOrigin:this.getOrigin(),targetOrigin:b,sourceWindowName:d.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(a){this.eventListeners.push(a);return a},removeEventListener:function(a){var b;try{b=this.eventListeners.indexOf(a),this.eventListeners.splice(b,1)}catch(c){this.eventListeners=[]}},dispatchEvent:function(a){var b;
for(b=0;b<this.eventListeners.length;b++)try{this.eventListeners[b](a)}catch(c){}}});c.WindowProxyLegacy=c.WindowProxyBase.extend({init:function(a,b){this._super(b);if(null!==a)this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=a,this.proxyIFrameElement=this.createIFrameProxy();else throw this.proxyIFrameElement=null,Error("proxyIFrameUrl can't be null");},createIFrameProxy:function(){var a=document.createElement("iframe");a.setAttribute("id",this.proxyIFrameName);a.setAttribute("name",
this.proxyIFrameName);a.setAttribute("src",this.proxyIFrameLocation);a.setAttribute("frameBorder","1");a.setAttribute("scrolling","auto");a.setAttribute("width",30);a.setAttribute("height",30);a.setAttribute("style","position: absolute; left: -100px; top:0px;");a.style.setAttribute&&a.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;");document.body.appendChild(a);return a},dispatchMessage:function(a){var b=d.encodeURIComponent;this.proxyIFrameElement&&(a=this.proxyIFrameLocation+
"#"+b(c.WindowProxy.serialize(a)),this.proxyIFrameElement.setAttribute("src",a),this.proxyIFrameElement.height=50<this.proxyIFrameElement.height?50:100)}});c.WindowProxyHTML5=c.WindowProxyBase.extend({init:function(a,b){this._super(b);this.eventListenerCallback=null},dispatchMessage:function(a){this.getTargetWindow().postMessage(c.WindowProxy.serialize(a),a.targetOrigin)},addEventListener:function(a){if(0===this.eventListeners.length){var b=this;this.eventListenerCallback=function(a){b.eventListener(b,
a)};d.addEventListener("message",this.eventListenerCallback,!1)}return this._super(a)},removeEventListener:function(a){this._super(a);0===this.eventListeners.length&&(d.removeEventListener("message",this.eventListenerCallback),this.eventListenerCallback=null)},eventListener:function(a,b){var e=c.WindowProxy.unserialize(b.data);!e||""!=a.targetWindowName&&e.sourceWindowName!=a.targetWindowName||a.dispatchEvent(new c.MessageEvent(e.data,b.origin,a))}});"function"!==typeof d.postMessage?(c.trace("Using legacy browser support"),
c.WindowProxy=c.WindowProxyLegacy.extend({})):(c.trace("Using built-in browser support"),c.WindowProxy=c.WindowProxyHTML5.extend({}));c.WindowProxy.serialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole serialization depends on JSON!");return JSON.stringify(a)};c.WindowProxy.unserialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole unserialization dependens on JSON!");try{var b=JSON.parse(a)}catch(c){return!1}return b};c.WindowProxy.getTargetWindow=function(a){return""===
a?top:"top"===a||"parent"===a?d[a]:parent.frames[a]};c.MessageEvent=function(a,b,c){this.data=a;this.origin=b;this.source=c};c.WindowProxyDispatcher={forwardMessageEvent:function(a){a=d.decodeURIComponent;var b;0<document.location.hash.length&&(a=c.WindowProxy.unserialize(a(document.location.hash.substr(1))),b=c.WindowProxy.getTargetWindow(a.targetWindowName),(b=c.WindowProxyDispatcher.findWindowProxyObjectInWindow(b,a.sourceWindowName))?b.origin===a.targetOrigin||"*"===a.targetOrigin?b.dispatchEvent(new c.MessageEvent(a.data,
a.sourceOrigin,b)):c.error("Target origin "+b.origin+" does not match desired target of "+a.targetOrigin):c.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(a,b){var c;a.RuntimeObject&&(a=a.RuntimeObject());if(a)for(c in a)if(a.hasOwnProperty(c))try{if(null!==a[c]&&"object"===typeof a[c]&&a[c]instanceof a.Porthole.WindowProxy&&a[c].getTargetWindowName()===b)return a[c]}catch(f){}return null},start:function(){d.addEventListener?d.addEventListener("resize",
c.WindowProxyDispatcher.forwardMessageEvent,!1):document.body.attachEvent?d.attachEvent("onresize",c.WindowProxyDispatcher.forwardMessageEvent):c.error("Cannot attach resize event")}};"undefined"!==typeof d.exports?d.exports.Porthole=c:d.Porthole=c})(this);window.allplayers=window.allplayers||{};
(function(d,c,a,b){a.embed=function(a,b){if(b){b.proxy=a.base|NaN;b.proxy+="/sites/all/libraries/porthole/src/proxy.html";a=a||{};for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c]);this.options=a;this.init()}};a.embed.prototype.init=function(){c.proxy=this}})(window,document,window.allplayers);window.allplayers=window.allplayers||{embed:{}};
(function(d,c,a,b,e){a.embed.server=function(c){a.embed.call(this,c,{getContainer:function(){return b()},isComplete:function(){return!1}})};a.embed.server.prototype=new a.embed;a.embed.server.prototype.constructor=a.embed.server;a.embed.server.prototype.init=function(){a.embed.prototype.init.call(this);this.container=this.options.getContainer();this.height=0;this.heightTimer=null;this.queue={};var f=this;this.proxy=new Porthole.WindowProxy(this.options.proxy);var e=null;b(c).bind("DOMSubtreeModified",
function(){e&&clearTimeout(e);e=setTimeout(function(){f.resize()},500)});this.options.isComplete()&&this.proxy.post({event:{name:"complete"}});this.proxy.addEventListener(function(a){if(a=a.data.hasOwnProperty("event")?a.data.event:!1)switch(a.name){case "chromeMsgResp":if(a.data.hasOwnProperty("guid")&&f.queue.hasOwnProperty(a.data.guid))f.queue[a.data.guid](a.data.response);break;case "chromePluginReady":d.postMessage(a,"*");break;case "addStyle":if(a.data){a=a.data.replace(/[<>]/g,"");var e=b('link[type="text/css"]');
e.length&&(e=e.eq(e.length-1),e.after(b(c.createElement("style")).attr({type:"text/css"}).append(a)))}}});this.resize();this.proxy.post({event:{name:"serverReady"}})};a.embed.server.prototype.sendMessage=function(a,b){var c=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};a.guid=c()+c()+c();this.proxy.post({event:{name:"chromeMsg",data:a}});this.queue[a.guid]=b};a.embed.server.prototype.resize=function(){b('a[href^="https://www."]',this.container).each(function(){var a=
b(this).attr("href");b(this).attr({href:a.replace(/https:\/\/www.(.*?).allplayers.com/,"https://platform.$1.allplayers.com")})});var a=this,c=function(){var b=a.container.outerHeight(!0);a.height!==b&&(a.height=b,a.proxy.post({height:a.height,event:{name:"init",height:a.height,id:d.location.hash}}));a.heightTimer&&clearTimeout(a.heightTimer);a.heightTimer=setTimeout(c,500)};c()}})(window,document,window.allplayers,jQuery);
