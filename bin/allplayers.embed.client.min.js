"object"!==typeof JSON&&(JSON={});
(function(){function b(a){return 10>a?"0"+a:a}function c(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var d=m[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(d,g){var b,f,m,s,r=h,p,k=g[d];k&&"object"===typeof k&&"function"===typeof k.toJSON&&(k=k.toJSON(d));"function"===typeof e&&(k=e.call(g,d,k));switch(typeof k){case "string":return c(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";h+=l;p=[];if("[object Array]"===Object.prototype.toString.apply(k)){s=k.length;for(b=0;b<s;b+=1)p[b]=a(b,k)||"null";m=0===p.length?"[]":h?"[\n"+h+p.join(",\n"+h)+"\n"+r+"]":"["+p.join(",")+"]";h=r;return m}if(e&&"object"===typeof e)for(s=e.length,b=0;b<s;b+=1)"string"===typeof e[b]&&(f=e[b],(m=a(f,k))&&p.push(c(f)+(h?": ":":")+m));else for(f in k)Object.prototype.hasOwnProperty.call(k,f)&&(m=a(f,k))&&p.push(c(f)+(h?": ":":")+m);m=0===p.length?"{}":h?"{\n"+h+p.join(",\n"+
h)+"\n"+r+"}":"{"+p.join(",")+"}";h=r;return m}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,l,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e;"function"!==typeof JSON.stringify&&(JSON.stringify=function(d,b,c){var f;l=h="";if("number"===typeof c)for(f=0;f<c;f+=1)l+=" ";else"string"===typeof c&&(l=c);if((e=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return a("",{"":d})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function h(a,d){var c,f,e=a[d];if(e&&"object"===typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(f=h(e,c),void 0!==f?e[c]=f:delete e[c]);return b.call(a,d,e)}var c;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),"function"===typeof b?h({"":c},""):c;throw new SyntaxError("JSON.parse");})})();
(function(){var b=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(a){function d(){!b&&this.init&&this.init.apply(this,arguments)}var f=this.prototype;b=!0;var h=new this;b=!1;for(var l in a)h[l]="function"==typeof a[l]&&"function"==typeof f[l]&&c.test(a[l])?function(a,d){return function(){var b=this._super;this._super=f[a];var c=d.apply(this,arguments);this._super=b;return c}}(l,a[l]):a[l];d.prototype=h;d.prototype.constructor=d;d.extend=arguments.callee;
return d}})();
(function(b){var c={trace:function(a){void 0!==b.console&&b.console.log("Porthole: "+a)},error:function(a){void 0!==b.console&&b.console.error("Porthole: "+a)},WindowProxy:function(){}};c.WindowProxy.prototype={post:function(a,d){},addEventListener:function(a){},removeEventListener:function(a){}};c.WindowProxyBase=Class.extend({init:function(a){void 0===a&&(a="");this.targetWindowName=a;this.origin=b.location.protocol+"//"+b.location.host;this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},
getTargetWindow:function(){return c.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(a,d){void 0===d&&(d="*");this.dispatchMessage({data:a,sourceOrigin:this.getOrigin(),targetOrigin:d,sourceWindowName:b.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(a){this.eventListeners.push(a);return a},removeEventListener:function(a){var d;try{d=this.eventListeners.indexOf(a),this.eventListeners.splice(d,1)}catch(b){this.eventListeners=[]}},dispatchEvent:function(a){var d;
for(d=0;d<this.eventListeners.length;d++)try{this.eventListeners[d](a)}catch(b){}}});c.WindowProxyLegacy=c.WindowProxyBase.extend({init:function(a,d){this._super(d);if(null!==a)this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=a,this.proxyIFrameElement=this.createIFrameProxy();else throw this.proxyIFrameElement=null,Error("proxyIFrameUrl can't be null");},createIFrameProxy:function(){var a=document.createElement("iframe");a.setAttribute("id",this.proxyIFrameName);a.setAttribute("name",
this.proxyIFrameName);a.setAttribute("src",this.proxyIFrameLocation);a.setAttribute("frameBorder","1");a.setAttribute("scrolling","auto");a.setAttribute("width",30);a.setAttribute("height",30);a.setAttribute("style","position: absolute; left: -100px; top:0px;");a.style.setAttribute&&a.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;");document.body.appendChild(a);return a},dispatchMessage:function(a){var d=b.encodeURIComponent;this.proxyIFrameElement&&(a=this.proxyIFrameLocation+
"#"+d(c.WindowProxy.serialize(a)),this.proxyIFrameElement.setAttribute("src",a),this.proxyIFrameElement.height=50<this.proxyIFrameElement.height?50:100)}});c.WindowProxyHTML5=c.WindowProxyBase.extend({init:function(a,d){this._super(d);this.eventListenerCallback=null},dispatchMessage:function(a){this.getTargetWindow().postMessage(c.WindowProxy.serialize(a),a.targetOrigin)},addEventListener:function(a){if(0===this.eventListeners.length){var d=this;this.eventListenerCallback=function(a){d.eventListener(d,
a)};b.addEventListener("message",this.eventListenerCallback,!1)}return this._super(a)},removeEventListener:function(a){this._super(a);0===this.eventListeners.length&&(b.removeEventListener("message",this.eventListenerCallback),this.eventListenerCallback=null)},eventListener:function(a,d){var b=c.WindowProxy.unserialize(d.data);!b||""!=a.targetWindowName&&b.sourceWindowName!=a.targetWindowName||a.dispatchEvent(new c.MessageEvent(b.data,d.origin,a))}});"function"!==typeof b.postMessage?(c.trace("Using legacy browser support"),
c.WindowProxy=c.WindowProxyLegacy.extend({})):(c.trace("Using built-in browser support"),c.WindowProxy=c.WindowProxyHTML5.extend({}));c.WindowProxy.serialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole serialization depends on JSON!");return JSON.stringify(a)};c.WindowProxy.unserialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole unserialization dependens on JSON!");try{var d=JSON.parse(a)}catch(b){return!1}return d};c.WindowProxy.getTargetWindow=function(a){return""===
a?top:"top"===a||"parent"===a?b[a]:parent.frames[a]};c.MessageEvent=function(a,d,b){this.data=a;this.origin=d;this.source=b};c.WindowProxyDispatcher={forwardMessageEvent:function(a){a=b.decodeURIComponent;var d;0<document.location.hash.length&&(a=c.WindowProxy.unserialize(a(document.location.hash.substr(1))),d=c.WindowProxy.getTargetWindow(a.targetWindowName),(d=c.WindowProxyDispatcher.findWindowProxyObjectInWindow(d,a.sourceWindowName))?d.origin===a.targetOrigin||"*"===a.targetOrigin?d.dispatchEvent(new c.MessageEvent(a.data,
a.sourceOrigin,d)):c.error("Target origin "+d.origin+" does not match desired target of "+a.targetOrigin):c.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(a,b){var c;a.RuntimeObject&&(a=a.RuntimeObject());if(a)for(c in a)if(a.hasOwnProperty(c))try{if(null!==a[c]&&"object"===typeof a[c]&&a[c]instanceof a.Porthole.WindowProxy&&a[c].getTargetWindowName()===b)return a[c]}catch(h){}return null},start:function(){b.addEventListener?b.addEventListener("resize",
c.WindowProxyDispatcher.forwardMessageEvent,!1):document.body.attachEvent?b.attachEvent("onresize",c.WindowProxyDispatcher.forwardMessageEvent):c.error("Cannot attach resize event")}};"undefined"!==typeof b.exports?b.exports.Porthole=c:b.Porthole=c})(this);window.allplayers=window.allplayers||{};
(function(b,c,a,d){a.embed=function(a,b){if(b){b.proxy=a.base|NaN;b.proxy+="/sites/all/libraries/porthole/src/proxy.html";a=a||{};for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c]);this.options=a;this.init()}};a.embed.prototype.init=function(){c.proxy=this}})(window,document,window.allplayers);window.allplayers=window.allplayers||{embed:{}};
(function(b,c,a,d,f){base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};base64.ALPHA+="abcdefghijklmnopqrstuvwxyz0123456789+/";base64.getbyte=function(a,b){var c=a.charCodeAt(b);if(255<c)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c};base64.encode=function(a){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var b=base64.PADCHAR,c=base64.ALPHA,d=base64.getbyte,f,g,n=[];a=""+a;var q=a.length-a.length%3;if(0==a.length)return a;for(f=0;f<q;f+=3)g=d(a,f)<<16,g|=d(a,f+1)<<8,
g|=d(a,f+2),n.push(c.charAt(g>>18)),n.push(c.charAt(g>>12&63)),n.push(c.charAt(g>>6&63)),n.push(c.charAt(g&63));switch(a.length-q){case 1:g=d(a,f)<<16;n.push(c.charAt(g>>18)+c.charAt(g>>12&63)+b+b);break;case 2:g=d(a,f)<<16|d(a,f+1)<<8,n.push(c.charAt(g>>18)+c.charAt(g>>12&63)+c.charAt(g>>6&63)+b)}return n.join("")};d&&!d.fn.allplayers_client&&(d.fn.allplayers_client=function(b){return d(this).each(function(){new a.embed.client(b,d(this))})});a.embed.client=function(b,c){this.context=c;a.embed.call(this,
b,{spinner:"",loading:"Loading",base:"https://platform.allplayers.com",type:"registration",group:"api",query:{},src:"",style:"",esrc:"",complete:function(){}})};a.embed.client.prototype=new a.embed;a.embed.client.prototype.constructor=a.embed.client;a.embed.client.getParam=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(b.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))};a.embed.client.prototype.init=function(){a.embed.prototype.init.call(this);
this.isLoading=!0;var f=this.context.attr("id");this.options.spinner||(this.options.spinner=this.options.base,this.options.spinner+="/sites/all/themes/basic_foundation",this.options.spinner+="/images/loader.gif");this.pluginReady=!1;var l=d(c.createElement("div")).css({background:"url("+this.options.spinner+") no-repeat 10px 13px",padding:"10px 10px 10px 60px",width:"100%"});l.append(this.options.loading);var m=f+"_iframe",e="";if(e=a.embed.client.getParam("apq"))e=this.options.base+"/"+e;else if(this.options.src)e=
this.options.src;else{e=this.options.base+"/g/"+this.options.group;switch(this.options.type){case "registration":e+="/register";break;case "forms":e+="/forms"}this.options.query.etyp=this.options.type}e+=-1===e.search(/\?/)?"?":"&";if(!function(a){for(var b in a)return!1;return!0}(this.options.query))for(var t in this.options.query)e+=t+"="+encodeURIComponent(this.options.query[t]),e+="&";var e=e+("esrc="+base64.encode(this.options.esrc?this.options.esrc:b.location.href)),g=this;(function(a){b["openAPEmbeddedWindow_"+
f]=function(c){c.preventDefault?(c.preventDefault(),c.stopPropagation()):c.returnValue=!1;a+="&clearCache=true&bodyPadding=10&showHelp=1";b.open(a,"","width=960,height=800,menubar=no,titlebar=no,toolbar=no,status=no,chrome=yes")}})(e);var e=e+("#"+m),n=!1,q='<a href="#" onclick="',q=q+("window.openAPEmbeddedWindow_"+f+'(event)">Click here</a>'),q=q+" to open in a separate window.",u=function(a,c){var b='<div class="apci-fallback" ';c&&(b+='style="padding: 15px;border: 1px solid transparent;border-radius: 4px;color: #3a87ad;background-color: #d9edf7;border-color: #bce8f1"');
b=b+">"+('<em style="padding: 5px;">'+a+" "+q+"</em>");return b+="</div>"},s=function(a){n||(n=!0,g.context.prepend(u(a,!0)))};this.context.after(u("Having Trouble?",!1));b.onerror=function(a,b,c){s("An error has been detected on this page, which may cause problems with the operation of this application.")};setTimeout(function(){g.isLoading&&(l.remove(),g.isLoading=!1,s("An error has been detected on this page."))},3E4);var r=d(c.createElement("iframe")).attr({id:m,name:m,scrolling:"no",seamless:"seamless",
width:"100%",height:"0px",src:e}).css({border:"none",overflowY:"hidden"});this.context.append(l);this.context.append(r);this.proxy=new Porthole.WindowProxy(this.options.proxy,r.attr("id"));b.addEventListener&&b.addEventListener("message",function(a){switch(a.data.name){case "chromeMsgResp":g.proxy.post({event:a.data});break;case "chromePluginReady":g.pluginReady=!0}});this.proxy.addEventListener(function(a){if(a=a.data.hasOwnProperty("event")?a.data.event:!1)switch(a.name){case "chromeMsg":b.postMessage&&
b.postMessage(a,"*");break;case "init":g.isLoading=!1;l.remove();g.options.style&&g.proxy.post({event:{name:"addStyle",data:g.options.style}});r.height(a.height).attr("height",a.height+"px");break;case "complete":g.options.complete.call(g,a);break;case "serverReady":g.pluginReady&&g.proxy.post({event:{name:"chromePluginReady"}})}})}})(window,document,window.allplayers,jQuery);
