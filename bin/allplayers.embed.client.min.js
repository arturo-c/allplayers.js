var NO_JQUERY={};
(function(f,p,n){if(!("console"in f)){var k=f.console={};k.log=k.warn=k.error=k.debug=function(){}}p===NO_JQUERY&&(p={fn:{},extend:function(){for(var a=arguments[0],b=1,d=arguments.length;b<d;b++){var c=arguments[b],h;for(h in c)a[h]=c[h]}return a}});p.fn.pm=function(){console.log("usage: \nto send:    $.pm(options)\nto receive: $.pm.bind(type, fn, [origin])");return this};p.pm=f.pm=function(a){d.send(a)};p.pm.bind=f.pm.bind=function(a,b,e,c,h){d.bind(a,b,e,c,!0===h)};p.pm.unbind=f.pm.unbind=function(a,
b){d.unbind(a,b)};p.pm.origin=f.pm.origin=null;p.pm.poll=f.pm.poll=200;var d={send:function(a){a=p.extend({},d.defaults,a);var b=a.target;if(a.target)if(a.type){var e={data:a.data,type:a.type};a.success&&(e.callback=d._callback(a.success));a.error&&(e.errback=d._callback(a.error));"postMessage"in b&&!a.hash?(d._bind(),b.postMessage(JSON.stringify(e),a.origin||"*")):(d.hash._bind(),d.hash.send(a,e))}else console.warn("postmessage type required");else console.warn("postmessage target window required")},
bind:function(a,b,e,c,h){d._replyBind(a,b,e,c,h)},_replyBind:function(a,b,e,c,h){"postMessage"in f&&!c?d._bind():d.hash._bind();c=d.data("listeners.postmessage");c||(c={},d.data("listeners.postmessage",c));var g=c[a];g||(g=[],c[a]=g);g.push({fn:b,callback:h,origin:e||p.pm.origin})},unbind:function(a,b){var e=d.data("listeners.postmessage");if(e)if(a)if(b){var c=e[a];if(c){for(var h=[],g=0,q=c.length;g<q;g++){var l=c[g];l.fn!==b&&h.push(l)}e[a]=h}}else delete e[a];else for(g in e)delete e[g]},data:function(a,
b){return b===n?d._data[a]:d._data[a]=b},_data:{},_CHARS:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),_random:function(){for(var a=[],b=0;32>b;b++)a[b]=d._CHARS[0|32*Math.random()];return a.join("")},_callback:function(a){var b=d.data("callbacks.postmessage");b||(b={},d.data("callbacks.postmessage",b));var e=d._random();b[e]=a;return e},_bind:function(){d.data("listening.postmessage")||(f.addEventListener?f.addEventListener("message",d._dispatch,!1):f.attachEvent&&f.attachEvent("onmessage",
d._dispatch),d.data("listening.postmessage",1))},_dispatch:function(a){try{var b=JSON.parse(a.data)}catch(e){console.warn("postmessage data invalid json: ",e);return}if(b.type){var c=(d.data("callbacks.postmessage")||{})[b.type];if(c)c(b.data);else for(var c=(d.data("listeners.postmessage")||{})[b.type]||[],h=0,g=c.length;h<g;h++){var q=c[h];if(q.origin&&"*"!==q.origin&&a.origin!==q.origin)console.warn("postmessage message origin mismatch",a.origin,q.origin),b.errback&&d.send({target:a.source,data:{message:"postmessage origin mismatch",
origin:[a.origin,q.origin]},type:b.errback});else{var l=function(c){b.callback&&d.send({target:a.source,data:c,type:b.callback})};try{q.callback?q.fn(b.data,l,a):l(q.fn(b.data,a))}catch(f){if(b.errback)d.send({target:a.source,data:f,type:b.errback});else throw f;}}}}else console.warn("postmessage message type required")},hash:{send:function(a,b){var e=a.target,c=a.url;if(c){var c=d.hash._url(c),h,g=d.hash._url(f.location.href);if(f==e.parent)h="parent";else try{for(var q=0,l=parent.frames.length;q<
l;q++)if(parent.frames[q]==f){h=q;break}}catch(k){h=f.name}null==h?console.warn("postmessage windows must be direct parent/child windows and the child must be available through the parent window.frames list"):(h={"x-requested-with":"postmessage",source:{name:h,url:g},postmessage:b},g="#x-postmessage-id="+d._random(),e.location=c+g+encodeURIComponent(JSON.stringify(h)))}else console.warn("postmessage target window url is required")},_regex:/^\#x\-postmessage\-id\=(\w{32})/,_regex_len:50,_bind:function(){d.data("polling.postmessage")||
(setInterval(function(){var a=""+f.location.hash,b=d.hash._regex.exec(a);b&&(b=b[1],d.hash._last!==b&&(d.hash._last=b,d.hash._dispatch(a.substring(d.hash._regex_len))))},p.pm.poll||200),d.data("polling.postmessage",1))},_dispatch:function(a){if(a){try{if(a=JSON.parse(decodeURIComponent(a)),!("postmessage"===a["x-requested-with"]&&a.source&&null!=a.source.name&&a.source.url&&a.postmessage))return}catch(b){return}var e=a.postmessage,c=(d.data("callbacks.postmessage")||{})[e.type];if(c)c(e.data);else{var h;
h="parent"===a.source.name?f.parent:f.frames[a.source.name];for(var c=(d.data("listeners.postmessage")||{})[e.type]||[],g=0,q=c.length;g<q;g++){var l=c[g];if(l.origin){var k=/https?\:\/\/[^\/]*/.exec(a.source.url)[0];if("*"!==l.origin&&k!==l.origin){console.warn("postmessage message origin mismatch",k,l.origin);e.errback&&d.send({target:h,data:{message:"postmessage origin mismatch",origin:[k,l.origin]},type:e.errback,hash:!0,url:a.source.url});continue}}k=function(b){e.callback&&d.send({target:h,
data:b,type:e.callback,hash:!0,url:a.source.url})};try{l.callback?l.fn(e.data,k):k(l.fn(e.data))}catch(n){if(e.errback)d.send({target:h,data:n,type:e.errback,hash:!0,url:a.source.url});else throw n;}}}}},_url:function(a){return(""+a).replace(/#.*$/,"")}}};p.extend(d,{defaults:{target:null,url:null,type:null,data:null,success:null,error:null,origin:"*",hash:!1}})})(this,"undefined"===typeof jQuery?NO_JQUERY:jQuery);"JSON"in window&&window.JSON||(JSON={});
(function(){function f(a){return 10>a?"0"+a:a}function p(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=e[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function n(d,g){var e,l,f,k,s=a,r,m=g[d];m&&"object"===typeof m&&"function"===typeof m.toJSON&&(m=m.toJSON(d));"function"===typeof c&&(m=c.call(g,d,m));switch(typeof m){case "string":return p(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);
case "object":if(!m)return"null";a+=b;r=[];if("[object Array]"===Object.prototype.toString.apply(m)){k=m.length;for(e=0;e<k;e+=1)r[e]=n(e,m)||"null";f=0===r.length?"[]":a?"[\n"+a+r.join(",\n"+a)+"\n"+s+"]":"["+r.join(",")+"]";a=s;return f}if(c&&"object"===typeof c)for(k=c.length,e=0;e<k;e+=1)l=c[e],"string"===typeof l&&(f=n(l,m))&&r.push(p(l)+(a?": ":":")+f);else for(l in m)Object.hasOwnProperty.call(m,l)&&(f=n(l,m))&&r.push(p(l)+(a?": ":":")+f);f=0===r.length?"{}":a?"{\n"+a+r.join(",\n"+a)+"\n"+
s+"}":"{"+r.join(",")+"}";a=s;return f}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,b,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;"function"!==typeof JSON.stringify&&(JSON.stringify=function(e,d,f){var l;b=a="";if("number"===typeof f)for(l=0;l<f;l+=1)b+=" ";else"string"===typeof f&&(b=f);if((c=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return n("",{"":e})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,e){var d,h,m=a[e];if(m&&"object"===typeof m)for(d in m)Object.hasOwnProperty.call(m,d)&&(h=c(m,d),void 0!==h?m[d]=h:delete m[d]);return b.call(a,e,m)}var e;k.lastIndex=0;k.test(a)&&(a=a.replace(k,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();window.allplayers=window.allplayers||{};
(function(f,p,n,k){var d={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};d.ALPHA+="abcdefghijklmnopqrstuvwxyz0123456789+/";d.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(a){var b=Error("DOM Exception 5");b.code=b.number=5;b.name=b.description="INVALID_CHARACTER_ERR";b.toString=function(){return"Error: "+b.name+": "+b.message};return b}};d.getbyte64=function(a,b){var e=d.ALPHA.indexOf(a.charAt(b));if(-1===e)throw d.makeDOMException();return e};
d.decode=function(a){a=""+a;var b=d.getbyte64,e,c,h,g=a.length;if(0===g)return a;if(0!==g%4)throw d.makeDOMException();e=0;a.charAt(g-1)===d.PADCHAR&&(e=1,a.charAt(g-2)===d.PADCHAR&&(e=2),g-=4);var f=[];for(c=0;c<g;c+=4)h=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6|b(a,c+3),f.push(String.fromCharCode(h>>16,h>>8&255,h&255));switch(e){case 1:h=b(a,c)<<18;h|=b(a,c+1)<<12;h|=b(a,c+2)<<6;f.push(String.fromCharCode(h>>16,h>>8&255));break;case 2:h=b(a,c)<<18|b(a,c+1)<<12,f.push(String.fromCharCode(h>>16))}return f.join("")};
d.getbyte=function(a,b){var e=a.charCodeAt(b);if(255<e)throw d.makeDOMException();return e};d.encode=function(a){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var b=d.PADCHAR,e=d.ALPHA,c=d.getbyte,h,g,f=[];a=""+a;var k=a.length-a.length%3;if(0===a.length)return a;for(h=0;h<k;h+=3)g=c(a,h)<<16,g|=c(a,h+1)<<8,g|=c(a,h+2),f.push(e.charAt(g>>18)),f.push(e.charAt(g>>12&63)),f.push(e.charAt(g>>6&63)),f.push(e.charAt(g&63));switch(a.length-k){case 1:g=c(a,h)<<16;f.push(e.charAt(g>>
18)+e.charAt(g>>12&63)+b+b);break;case 2:g=c(a,h)<<16|c(a,h+1)<<8,f.push(e.charAt(g>>18)+e.charAt(g>>12&63)+e.charAt(g>>6&63)+b)}return f.join("")};n.base64=d;n.embed=function(a,b){if(b){a=a||{};for(var e in b)a.hasOwnProperty(e)||(a[e]=b[e]);this.options=a;this.init()}};n.embed.getParam=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(f.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))};n.embed.prototype.init=function(){}})(window,
document,window.allplayers);window.allplayers=window.allplayers||{embed:{}};
(function(f,p,n,k,d){k&&!k.fn.allplayers_client&&(k.fn.allplayers_client=function(a){return k(this).each(function(){new n.embed.client(a,k(this))})});n.embed.client=function(a,b){this.context=b;n.embed.call(this,a,{spinner:"",loading:"Loading",base:"https://platform.allplayers.com",type:"registration",group:"api",query:{},src:"",style:"",esrc:"",complete:function(){}})};n.embed.client.prototype=new n.embed;n.embed.client.prototype.constructor=n.embed.client;n.embed.client.prototype.init=function(){n.embed.prototype.init.call(this);
this.baseURL="https://platform.allplayers.com";this.options.base&&(this.baseURL=this.options.base);this.isLoading=!0;var a=this.context.attr("id");this.options.spinner||(this.options.spinner=this.options.base,this.options.spinner+="/sites/all/themes/basic_foundation",this.options.spinner+="/images/loader.gif");this.pluginReady=!1;var b=k(p.createElement("div")).css({background:"url("+this.options.spinner+") no-repeat 10px 13px",padding:"10px 10px 10px 60px",width:"100%"});b.append(this.options.loading);
var e=a+"_iframe",c="";if(c=n.embed.getParam("apq"))c=this.options.base+"/"+c;else if(this.options.src)c=this.options.src;else{c=this.options.base+"/g/"+this.options.group;switch(this.options.type){case "registration":c+="/register";break;case "forms":c+="/forms"}this.options.query.etyp=this.options.type}c+=-1===c.search(/\?/)?"?":"&";if(!function(a){for(var b in a)return!1;return!0}(this.options.query))for(var d in this.options.query)c+=d+"="+encodeURIComponent(this.options.query[d]),c+="&";var c=
c+("esrc="+n.base64.encode(this.options.esrc?this.options.esrc:f.location.href)),c=c+"&"+("ehost="+n.base64.encode(f.location.origin)),g=this;(function(b){f["openAPEmbeddedWindow_"+a]=function(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):a.returnValue=!1;b+="&clearCache=true&bodyPadding=10&showHelp=1";f.open(b,"","width=960,height=800,menubar=no,titlebar=no,toolbar=no,status=no,chrome=yes")}})(c);var c=c+("#"+e),q=!1,l='<a href="#" onclick="',l=l+("window.openAPEmbeddedWindow_"+a+
'(event)">Click here</a>'),l=l+" to open in a separate window.",u=function(a,b){var c='<div class="apci-fallback" ';b&&(c+='style="padding: 15px;border: 1px solid transparent;border-radius: 4px;color: #3a87ad;background-color: #d9edf7;border-color: #bce8f1"');c=c+">"+('<em style="padding: 5px;">'+a+" "+l+"</em>");return c+="</div>"},t=function(a){q||(q=!0,g.context.prepend(u(a,!0)))};this.context.after(u("Having Trouble?",!1));f.onerror=function(a,b,c){t("An error has been detected on this page, which may cause problems with the operation of this application.")};
setTimeout(function(){g.isLoading&&(b.remove(),g.isLoading=!1,t("An error has been detected on this page."))},3E4);var s=k(p.createElement("iframe")).attr({id:e,name:e,scrolling:"no",seamless:"seamless",width:"100%",height:"0px",src:c}).css({border:"none",overflowY:"hidden"});this.context.append(b);this.context.append(s);var r=null;k.pm.bind("chromePluginReady",function(){g.pluginReady=!0});k.pm.bind("chromeMsgResp",function(a){k.pm({target:r,url:g.baseURL,type:"chromeMsgResp",data:a})});k.pm.bind("chromeMsg",
function(a){k.pm({target:r,url:g.baseURL,type:"chromeMsg",data:a})});k.pm.bind("init",function(a,c){r=c.source;g.isLoading=!1;b.remove();g.options.style&&k.pm({target:c.source,url:g.baseURL,type:"addStyle",data:g.options.style});s.height(a.height).attr("height",a.height+"px");return a});k.pm.bind("complete",function(a){g.options.complete.call(g,a)});k.pm.bind("serverReady",function(a,b){g.pluginReady&&k.pm({target:b.source,url:g.baseURL,type:"chromePluginReady"})})}})(window,document,window.allplayers,
jQuery);
