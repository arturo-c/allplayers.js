(function(){var b=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(a){function d(){!b&&this.init&&this.init.apply(this,arguments)}var f=this.prototype;b=!0;var e=new this;b=!1;for(var g in a)e[g]="function"==typeof a[g]&&"function"==typeof f[g]&&c.test(a[g])?function(a,d){return function(){var c=this._super;this._super=f[a];var b=d.apply(this,arguments);this._super=c;return b}}(g,a[g]):a[g];d.prototype=e;d.prototype.constructor=d;d.extend=arguments.callee;
return d}})();
(function(b){var c={trace:function(a){void 0!==b.console&&b.console.log("Porthole: "+a)},error:function(a){void 0!==b.console&&b.console.error("Porthole: "+a)},WindowProxy:function(){}};c.WindowProxy.prototype={post:function(){},addEventListener:function(){},removeEventListener:function(){}};c.WindowProxyBase=Class.extend({init:function(a){void 0===a&&(a="");this.targetWindowName=a;this.origin=b.location.protocol+"//"+b.location.host;this.eventListeners=[]},getTargetWindowName:function(){return this.targetWindowName},getOrigin:function(){return this.origin},
getTargetWindow:function(){return c.WindowProxy.getTargetWindow(this.targetWindowName)},post:function(a,d){void 0===d&&(d="*");this.dispatchMessage({data:a,sourceOrigin:this.getOrigin(),targetOrigin:d,sourceWindowName:b.name,targetWindowName:this.getTargetWindowName()})},addEventListener:function(a){this.eventListeners.push(a);return a},removeEventListener:function(a){var d;try{d=this.eventListeners.indexOf(a),this.eventListeners.splice(d,1)}catch(c){this.eventListeners=[]}},dispatchEvent:function(a){var c;
for(c=0;c<this.eventListeners.length;c++)try{this.eventListeners[c](a)}catch(b){}}});c.WindowProxyLegacy=c.WindowProxyBase.extend({init:function(a,c){this._super(c);if(null!==a)this.proxyIFrameName=this.targetWindowName+"ProxyIFrame",this.proxyIFrameLocation=a,this.proxyIFrameElement=this.createIFrameProxy();else throw this.proxyIFrameElement=null,Error("proxyIFrameUrl can't be null");},createIFrameProxy:function(){var a=document.createElement("iframe");a.setAttribute("id",this.proxyIFrameName);a.setAttribute("name",
this.proxyIFrameName);a.setAttribute("src",this.proxyIFrameLocation);a.setAttribute("frameBorder","1");a.setAttribute("scrolling","auto");a.setAttribute("width",30);a.setAttribute("height",30);a.setAttribute("style","position: absolute; left: -100px; top:0px;");a.style.setAttribute&&a.style.setAttribute("cssText","position: absolute; left: -100px; top:0px;");document.body.appendChild(a);return a},dispatchMessage:function(a){var d=b.encodeURIComponent;this.proxyIFrameElement&&(a=this.proxyIFrameLocation+
"#"+d(c.WindowProxy.serialize(a)),this.proxyIFrameElement.setAttribute("src",a),this.proxyIFrameElement.height=50<this.proxyIFrameElement.height?50:100)}});c.WindowProxyHTML5=c.WindowProxyBase.extend({init:function(a,c){this._super(c);this.eventListenerCallback=null},dispatchMessage:function(a){this.getTargetWindow().postMessage(c.WindowProxy.serialize(a),a.targetOrigin)},addEventListener:function(a){if(0===this.eventListeners.length){var c=this;this.eventListenerCallback=function(a){c.eventListener(c,
a)};b.addEventListener("message",this.eventListenerCallback,!1)}return this._super(a)},removeEventListener:function(a){this._super(a);0===this.eventListeners.length&&(b.removeEventListener("message",this.eventListenerCallback),this.eventListenerCallback=null)},eventListener:function(a,b){var f=c.WindowProxy.unserialize(b.data);f&&(""==a.targetWindowName||f.sourceWindowName==a.targetWindowName)&&a.dispatchEvent(new c.MessageEvent(f.data,b.origin,a))}});"function"!==typeof b.postMessage?(c.trace("Using legacy browser support"),
c.WindowProxy=c.WindowProxyLegacy.extend({})):(c.trace("Using built-in browser support"),c.WindowProxy=c.WindowProxyHTML5.extend({}));c.WindowProxy.serialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole serialization depends on JSON!");return JSON.stringify(a)};c.WindowProxy.unserialize=function(a){if("undefined"===typeof JSON)throw Error("Porthole unserialization dependens on JSON!");try{var c=JSON.parse(a)}catch(b){return!1}return c};c.WindowProxy.getTargetWindow=function(a){return""===
a?top:"top"===a||"parent"===a?b[a]:parent.frames[a]};c.MessageEvent=function(a,c,b){this.data=a;this.origin=c;this.source=b};c.WindowProxyDispatcher={forwardMessageEvent:function(){var a;a=b.decodeURIComponent;var d;0<document.location.hash.length&&(a=c.WindowProxy.unserialize(a(document.location.hash.substr(1))),d=c.WindowProxy.getTargetWindow(a.targetWindowName),(d=c.WindowProxyDispatcher.findWindowProxyObjectInWindow(d,a.sourceWindowName))?d.origin===a.targetOrigin||"*"===a.targetOrigin?d.dispatchEvent(new c.MessageEvent(a.data,
a.sourceOrigin,d)):c.error("Target origin "+d.origin+" does not match desired target of "+a.targetOrigin):c.error("Could not find window proxy object on the target window"))},findWindowProxyObjectInWindow:function(a,c){var b;a.RuntimeObject&&(a=a.RuntimeObject());if(a)for(b in a)if(a.hasOwnProperty(b))try{if(null!==a[b]&&"object"===typeof a[b]&&a[b]instanceof a.Porthole.WindowProxy&&a[b].getTargetWindowName()===c)return a[b]}catch(e){}return null},start:function(){b.addEventListener?b.addEventListener("resize",
c.WindowProxyDispatcher.forwardMessageEvent,!1):document.body.attachEvent?b.attachEvent("onresize",c.WindowProxyDispatcher.forwardMessageEvent):c.error("Cannot attach resize event")}};"undefined"!==typeof b.exports?b.exports.Porthole=c:b.Porthole=c})(this);var allplayers=allplayers||{};allplayers.embed=function(b,c){if(c){c.proxy="https://www.allplayers.com";c.proxy+="/sites/all/libraries/porthole/src/proxy.html";b=b||{};for(var a in c)b.hasOwnProperty(a)||(b[a]=c[a]);this.options=b;this.init()}};
allplayers.embed.prototype.init=function(){document.proxy=this};
(function(b){function c(a,c,b,d,h,g){a=String(a);for(var e=0,f=0,j=a.length,m="",k=0;f<j;){for(var l=a.charCodeAt(f),l=256>l?b[l]:-1,e=(e<<h)+l,k=k+h;k>=g;)k-=g,l=e>>k,m+=d.charAt(l),e^=l<<k;++f}!c&&0<k&&(m+=d.charAt(e<<g-k));return m}for(var a="",d=[256],f=[256],e=0,g={encode:function(a){return a.replace(/[\u0080-\u07ff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(192|a>>6,128|a&63)}).replace(/[\u0800-\uffff]/g,function(a){a=a.charCodeAt(0);return String.fromCharCode(224|a>>12,128|
a>>6&63,128|a&63)})},decode:function(a){return a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&15)<<12|(a.charCodeAt(1)&63)<<6|a.charCodeAt(2)&63;return String.fromCharCode(a)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){a=(a.charCodeAt(0)&31)<<6|a.charCodeAt(1)&63;return String.fromCharCode(a)})}};256>e;){var j=String.fromCharCode(e),a=a+j;f[e]=e;d[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(j);++e}var h=b.base64=
function(a,c,b){return c?h[a](c,b):a?null:this};h.btoa=h.encode=function(a,b){a=!1===h.raw||h.utf8encode||b?g.encode(a):a;a=c(a,!1,f,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",8,6);return a+"====".slice(a.length%4||4)};h.atob=h.decode=function(b,e){b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");b=String(b).split("=");var f=b.length;do--f,b[f]=c(b[f],!0,d,a,6,8);while(0<f);b=b.join("");return!1===h.raw||h.utf8decode||e?g.decode(b):b}})(jQuery);allplayers=allplayers||{embed:{}};
jQuery.fn.allplayers_client||(jQuery.fn.allplayers_client=function(b){return jQuery(this).each(function(){new allplayers.embed.client(b,jQuery(this))})});allplayers.embed.client=function(b,c){this.context=c;allplayers.embed.call(this,b,{spinner:"https://www.allplayers.com/sites/all/themes/allplayers960/images/loading.gif",loading:"loading...",base:"https://platform.allplayers.com",type:"registration",group:"api",query:{},src:"",complete:function(){}})};allplayers.embed.client.prototype=new allplayers.embed;
allplayers.embed.client.prototype.constructor=allplayers.embed.client;allplayers.embed.client.getParam=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=RegExp("[\\?&]"+b+"=([^&#]*)").exec(window.location.search);return null==b?"":decodeURIComponent(b[1].replace(/\+/g," "))};
allplayers.embed.client.prototype.init=function(){allplayers.embed.prototype.init.call(this);this.pluginReady=!1;var b=jQuery(document.createElement("div")).css({background:"url("+this.options.spinner+") no-repeat",margin:"0 5px",paddingLeft:"20px"});b.append(this.options.loading);var c=this.context.attr("id")+"_iframe",a="";if(this.options.src)a=this.options.src;else{var a=this.options.base+"/",d=allplayers.embed.client.getParam("apq");if(d)a+=d;else switch(a+="g/"+this.options.group,this.options.type){case "registration":a+=
"/register";break;case "forms":a+="/forms"}this.options.query.etyp=this.options.type}a+=-1===a.search(/\?/)?"?":"&";a:{for(var f in this.options.query){d=!1;break a}d=!0}if(!d)for(var e in this.options.query)a+=e+"="+encodeURIComponent(this.options.query[e]),a+="&";var a=a+("esrc="+$.base64("btoa",window.location.href,!0)),a=a+("#"+c),g=jQuery(document.createElement("iframe")).attr({id:c,name:c,scrolling:"no",seamless:"seamless",width:"100%",height:"0px",src:a}).css({border:"none",overflowY:"hidden"});
this.context.append(b);this.context.append(g);this.proxy=new Porthole.WindowProxy(this.options.proxy,g.attr("id"));var j=this;"undefined"!==typeof window.postMessage&&window.addEventListener("message",function(a){switch(a.data.name){case "chromeMsgResp":j.proxy.post({event:a.data});break;case "chromePluginReady":j.pluginReady=!0}});this.proxy.addEventListener(function(a){if(a=a.data.hasOwnProperty("event")?a.data.event:!1)switch(a.name){case "chromeMsg":"undefined"!==typeof window.postMessage&&window.postMessage(a,
"*");break;case "init":b.remove();g.height(a.height).attr("height",a.height+"px");break;case "complete":j.options.complete.call(j,a);break;case "serverReady":j.pluginReady&&j.proxy.post({event:{name:"chromePluginReady"}})}})};
