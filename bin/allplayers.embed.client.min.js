var NO_JQUERY={};
(function(f,n,m){if(!("console"in f)){var h=f.console={};h.log=h.warn=h.error=h.debug=function(){}}n===NO_JQUERY&&(n={fn:{},extend:function(){for(var a=arguments[0],b=1,d=arguments.length;b<d;b++){var c=arguments[b],l;for(l in c)a[l]=c[l]}return a}});n.fn.pm=function(){console.log("usage: \nto send:    $.pm(options)\nto receive: $.pm.bind(type, fn, [origin])");return this};n.pm=f.pm=function(a){d.send(a)};n.pm.bind=f.pm.bind=function(a,b,e,c,l){d.bind(a,b,e,c,!0===l)};n.pm.unbind=f.pm.unbind=function(a,
b){d.unbind(a,b)};n.pm.origin=f.pm.origin=null;n.pm.poll=f.pm.poll=200;var d={send:function(a){a=n.extend({},d.defaults,a);var b=a.target;if(a.target)if(a.type){var e={data:a.data,type:a.type};a.success&&(e.callback=d._callback(a.success));a.error&&(e.errback=d._callback(a.error));"postMessage"in b&&!a.hash?(d._bind(),b.postMessage(JSON.stringify(e),a.origin||"*")):(d.hash._bind(),d.hash.send(a,e))}else console.warn("postmessage type required");else console.warn("postmessage target window required")},
bind:function(a,b,e,c,l){d._replyBind(a,b,e,c,l)},_replyBind:function(a,b,e,c,l){"postMessage"in f&&!c?d._bind():d.hash._bind();c=d.data("listeners.postmessage");c||(c={},d.data("listeners.postmessage",c));var g=c[a];g||(g=[],c[a]=g);g.push({fn:b,callback:l,origin:e||n.pm.origin})},unbind:function(a,b){var e=d.data("listeners.postmessage");if(e)if(a)if(b){var c=e[a];if(c){for(var l=[],g=0,p=c.length;g<p;g++){var k=c[g];k.fn!==b&&l.push(k)}e[a]=l}}else delete e[a];else for(g in e)delete e[g]},data:function(a,
b){return b===m?d._data[a]:d._data[a]=b},_data:{},_CHARS:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),_random:function(){for(var a=[],b=0;32>b;b++)a[b]=d._CHARS[0|32*Math.random()];return a.join("")},_callback:function(a){var b=d.data("callbacks.postmessage");b||(b={},d.data("callbacks.postmessage",b));var e=d._random();b[e]=a;return e},_bind:function(){d.data("listening.postmessage")||(f.addEventListener?f.addEventListener("message",d._dispatch,!1):f.attachEvent&&f.attachEvent("onmessage",
d._dispatch),d.data("listening.postmessage",1))},_dispatch:function(a){try{var b=JSON.parse(a.data)}catch(e){console.warn("postmessage data invalid json: ",e);return}if(b.type){var c=(d.data("callbacks.postmessage")||{})[b.type];if(c)c(b.data);else for(var c=(d.data("listeners.postmessage")||{})[b.type]||[],l=0,g=c.length;l<g;l++){var p=c[l];if(p.origin&&"*"!==p.origin&&a.origin!==p.origin)console.warn("postmessage message origin mismatch",a.origin,p.origin),b.errback&&d.send({target:a.source,data:{message:"postmessage origin mismatch",
origin:[a.origin,p.origin]},type:b.errback});else{var k=function(c){b.callback&&d.send({target:a.source,data:c,type:b.callback})};try{p.callback?p.fn(b.data,k,a):k(p.fn(b.data,a))}catch(f){if(b.errback)d.send({target:a.source,data:f,type:b.errback});else throw f;}}}}else console.warn("postmessage message type required")},hash:{send:function(a,b){var e=a.target,c=a.url;if(c){var c=d.hash._url(c),l,g=d.hash._url(f.location.href);if(f==e.parent)l="parent";else try{for(var p=0,k=parent.frames.length;p<
k;p++)if(parent.frames[p]==f){l=p;break}}catch(h){l=f.name}null==l?console.warn("postmessage windows must be direct parent/child windows and the child must be available through the parent window.frames list"):(l={"x-requested-with":"postmessage",source:{name:l,url:g},postmessage:b},g="#x-postmessage-id="+d._random(),e.location=c+g+encodeURIComponent(JSON.stringify(l)))}else console.warn("postmessage target window url is required")},_regex:/^\#x\-postmessage\-id\=(\w{32})/,_regex_len:50,_bind:function(){d.data("polling.postmessage")||
(setInterval(function(){var a=""+f.location.hash,b=d.hash._regex.exec(a);b&&(b=b[1],d.hash._last!==b&&(d.hash._last=b,d.hash._dispatch(a.substring(d.hash._regex_len))))},n.pm.poll||200),d.data("polling.postmessage",1))},_dispatch:function(a){if(a){try{if(a=JSON.parse(decodeURIComponent(a)),!("postmessage"===a["x-requested-with"]&&a.source&&null!=a.source.name&&a.source.url&&a.postmessage))return}catch(b){return}var e=a.postmessage,c=(d.data("callbacks.postmessage")||{})[e.type];if(c)c(e.data);else{var l;
l="parent"===a.source.name?f.parent:f.frames[a.source.name];for(var c=(d.data("listeners.postmessage")||{})[e.type]||[],g=0,p=c.length;g<p;g++){var k=c[g];if(k.origin){var h=/https?\:\/\/[^\/]*/.exec(a.source.url)[0];if("*"!==k.origin&&h!==k.origin){console.warn("postmessage message origin mismatch",h,k.origin);e.errback&&d.send({target:l,data:{message:"postmessage origin mismatch",origin:[h,k.origin]},type:e.errback,hash:!0,url:a.source.url});continue}}h=function(b){e.callback&&d.send({target:l,
data:b,type:e.callback,hash:!0,url:a.source.url})};try{k.callback?k.fn(e.data,h):h(k.fn(e.data))}catch(m){if(e.errback)d.send({target:l,data:m,type:e.errback,hash:!0,url:a.source.url});else throw m;}}}}},_url:function(a){return(""+a).replace(/#.*$/,"")}}};n.extend(d,{defaults:{target:null,url:null,type:null,data:null,success:null,error:null,origin:"*",hash:!1}})})(this,"undefined"===typeof jQuery?NO_JQUERY:jQuery);"JSON"in window&&window.JSON||(JSON={});
(function(){function f(a){return 10>a?"0"+a:a}function n(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=e[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(d,g){var e,k,f,h,s=a,r,q=g[d];q&&"object"===typeof q&&"function"===typeof q.toJSON&&(q=q.toJSON(d));"function"===typeof c&&(q=c.call(g,d,q));switch(typeof q){case "string":return n(q);case "number":return isFinite(q)?String(q):"null";case "boolean":case "null":return String(q);
case "object":if(!q)return"null";a+=b;r=[];if("[object Array]"===Object.prototype.toString.apply(q)){h=q.length;for(e=0;e<h;e+=1)r[e]=m(e,q)||"null";f=0===r.length?"[]":a?"[\n"+a+r.join(",\n"+a)+"\n"+s+"]":"["+r.join(",")+"]";a=s;return f}if(c&&"object"===typeof c)for(h=c.length,e=0;e<h;e+=1)k=c[e],"string"===typeof k&&(f=m(k,q))&&r.push(n(k)+(a?": ":":")+f);else for(k in q)Object.hasOwnProperty.call(q,k)&&(f=m(k,q))&&r.push(n(k)+(a?": ":":")+f);f=0===r.length?"{}":a?"{\n"+a+r.join(",\n"+a)+"\n"+
s+"}":"{"+r.join(",")+"}";a=s;return f}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,b,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;"function"!==typeof JSON.stringify&&(JSON.stringify=function(e,d,f){var k;b=a="";if("number"===typeof f)for(k=0;k<f;k+=1)b+=" ";else"string"===typeof f&&(b=f);if((c=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return m("",{"":e})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,e){var d,l,f=a[e];if(f&&"object"===typeof f)for(d in f)Object.hasOwnProperty.call(f,d)&&(l=c(f,d),void 0!==l?f[d]=l:delete f[d]);return b.call(a,e,f)}var e;h.lastIndex=0;h.test(a)&&(a=a.replace(h,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();window.allplayers=window.allplayers||{};
(function(f,n,m,h){var d={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};d.ALPHA+="abcdefghijklmnopqrstuvwxyz0123456789+/";d.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(a){var b=Error("DOM Exception 5");b.code=b.number=5;b.name=b.description="INVALID_CHARACTER_ERR";b.toString=function(){return"Error: "+b.name+": "+b.message};return b}};d.getbyte64=function(a,b){var e=d.ALPHA.indexOf(a.charAt(b));if(-1===e)throw d.makeDOMException();return e};
d.decode=function(a){a=""+a;var b=d.getbyte64,e,c,f,g=a.length;if(0===g)return a;if(0!==g%4)throw d.makeDOMException();e=0;a.charAt(g-1)===d.PADCHAR&&(e=1,a.charAt(g-2)===d.PADCHAR&&(e=2),g-=4);var h=[];for(c=0;c<g;c+=4)f=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6|b(a,c+3),h.push(String.fromCharCode(f>>16,f>>8&255,f&255));switch(e){case 1:f=b(a,c)<<18;f|=b(a,c+1)<<12;f|=b(a,c+2)<<6;h.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=b(a,c)<<18|b(a,c+1)<<12,h.push(String.fromCharCode(f>>16))}return h.join("")};
d.getbyte=function(a,b){var e=a.charCodeAt(b);if(255<e)throw d.makeDOMException();return e};d.encode=function(a){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var b=d.PADCHAR,e=d.ALPHA,c=d.getbyte,f,g,h=[];a=""+a;var k=a.length-a.length%3;if(0===a.length)return a;for(f=0;f<k;f+=3)g=c(a,f)<<16,g|=c(a,f+1)<<8,g|=c(a,f+2),h.push(e.charAt(g>>18)),h.push(e.charAt(g>>12&63)),h.push(e.charAt(g>>6&63)),h.push(e.charAt(g&63));switch(a.length-k){case 1:g=c(a,f)<<16;h.push(e.charAt(g>>
18)+e.charAt(g>>12&63)+b+b);break;case 2:g=c(a,f)<<16|c(a,f+1)<<8,h.push(e.charAt(g>>18)+e.charAt(g>>12&63)+e.charAt(g>>6&63)+b)}return h.join("")};m.base64=d;m.embed=function(a,b){if(b){a=a||{};for(var e in b)a.hasOwnProperty(e)||(a[e]=b[e]);this.options=a;this.init()}};m.embed.getParam=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(f.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))};m.embed.prototype.init=function(){}})(window,
document,window.allplayers);window.allplayers=window.allplayers||{embed:{}};
(function(f,n,m,h,d){h&&!h.fn.allplayers_client&&(h.fn.allplayers_client=function(a){return h(this).each(function(){new m.embed.client(a,h(this))})});m.embed.client=function(a,b){this.context=b;m.embed.call(this,a,{spinner:"",loading:"Loading",base:"https://platform.allplayers.com",type:"registration",group:"api",query:{},src:"",style:"",esrc:"",complete:function(){}})};m.embed.client.prototype=new m.embed;m.embed.client.prototype.constructor=m.embed.client;m.embed.client.prototype.init=function(){m.embed.prototype.init.call(this);
this.baseURL="https://platform.allplayers.com";this.options.base&&(this.baseURL=this.options.base);this.isLoading=!0;var a=this.context.attr("id");this.options.spinner||(this.options.spinner=this.options.base,this.options.spinner+="/sites/all/themes/basic_foundation",this.options.spinner+="/images/loader.gif");this.pluginReady=!1;var b=h(n.createElement("div")).css({background:"url("+this.options.spinner+") no-repeat 10px 13px",padding:"10px 10px 10px 60px",width:"100%"});b.append(this.options.loading);
var e=a+"_iframe",c="";if(c=m.embed.getParam("apq"))c=this.options.base+"/"+c;else if(this.options.src)c=this.options.src;else{c=this.options.base+"/g/"+this.options.group;switch(this.options.type){case "registration":c+="/register";break;case "forms":c+="/forms"}this.options.query.etyp=this.options.type}c+=-1===c.search(/\?/)?"?":"&";if(!function(a){for(var b in a)return!1;return!0}(this.options.query))for(var d in this.options.query)c+=d+"="+encodeURIComponent(this.options.query[d]),c+="&";var c=
c+("esrc="+m.base64.encode(this.options.esrc?this.options.esrc:f.location.href)),c=c+("ehost="+m.base64.encode(f.location.origin)),g=this;(function(b){f["openAPEmbeddedWindow_"+a]=function(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):a.returnValue=!1;b+="&clearCache=true&bodyPadding=10&showHelp=1";f.open(b,"","width=960,height=800,menubar=no,titlebar=no,toolbar=no,status=no,chrome=yes")}})(c);var c=c+("#"+e),p=!1,k='<a href="#" onclick="',k=k+("window.openAPEmbeddedWindow_"+a+'(event)">Click here</a>'),
k=k+" to open in a separate window.",u=function(a,b){var c='<div class="apci-fallback" ';b&&(c+='style="padding: 15px;border: 1px solid transparent;border-radius: 4px;color: #3a87ad;background-color: #d9edf7;border-color: #bce8f1"');c=c+">"+('<em style="padding: 5px;">'+a+" "+k+"</em>");return c+="</div>"},t=function(a){p||(p=!0,g.context.prepend(u(a,!0)))};this.context.after(u("Having Trouble?",!1));f.onerror=function(a,b,c){t("An error has been detected on this page, which may cause problems with the operation of this application.")};
setTimeout(function(){g.isLoading&&(b.remove(),g.isLoading=!1,t("An error has been detected on this page."))},3E4);var s=h(n.createElement("iframe")).attr({id:e,name:e,scrolling:"no",seamless:"seamless",width:"100%",height:"0px",src:c}).css({border:"none",overflowY:"hidden"});this.context.append(b);this.context.append(s);s.eq(0);h.pm.bind("chromePluginReady",function(){g.pluginReady=!0});h.pm.bind("chromeMsgResp",function(a){h.pm({target:f.frames,url:g.baseURL,type:"chromeMsgResp",data:a})});h.pm.bind("chromeMsg",
function(a){h.pm({target:f,type:"chromeMsg",data:a})});h.pm.bind("init",function(a){g.isLoading=!1;b.remove();g.options.style&&h.pm({target:f.frames,url:g.baseURL,type:"addStyle",data:g.options.style});s.height(a.height).attr("height",a.height+"px");return a});h.pm.bind("complete",function(a){g.options.complete.call(g,a)});h.pm.bind("serverReady",function(a){g.pluginReady&&h.pm({target:f.frames,url:g.baseURL,type:"chromePluginReady"})})}})(window,document,window.allplayers,jQuery);
